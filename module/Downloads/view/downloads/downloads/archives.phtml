<?php 
$this->render('downloads/downloads/sidebar');
$this->render('downloads/downloads/documentation-scripts');
$headTitle = $this->headTitle();
$headTitle->prepend('Downloads');
$headTitle->prepend('Archives');
?>
<section class="downloads">
    <h1>Archives</h1>

    <p>Every public release of Zend Framework or related products, all in one place.</p>

    <ul>
        <li><a href="#zf">Zend Framework</a></li>
        <li><a href="#gdata">Zend_Gdata</a></li>
        <li><a href="#infocard">Zend_InfoCard</a></li>
        <li><a href="#amf">Zend_AMF</a></li>
    </ul>

    <h2><a name="zf" />Zend Framework</h2>

    <table>
    <?php foreach ($this->releases->getVersions() as $version): 
        $date = $this->releases->getReleaseDate($version);
    ?>
        <tr>
            <td class="alpha archives">
                <strong><?php echo $this->escapeHtml($version) ?></strong><br />
                Released <?php echo $this->escapeHtml($date) ?>
            </td>

            <td>
                Full package: 
                <a href="<?php echo $this->releases->getArchive($version, 'zip') ?>">zip</a>&nbsp;|&nbsp;
                <a href="<?php echo $this->releases->getArchive($version, 'tar.gz') ?>">tar.gz</a><br />
            <?php if ($this->releases->hasMinimalVersion($version)): ?>
                Minimal package: 
                <a href="<?php echo $this->releases->getMinimalArchive($version, 'zip') ?>">zip</a>&nbsp;|&nbsp;
                <a href="<?php echo $this->releases->getMinimalArchive($version, 'tar.gz') ?>">tar.gz</a><br />
            <?php endif; ?>
            </td>

            <td class="omega">
            <?php if ($this->releases->hasDocumentation($version) || $this->releases->hasApidocs($version)): ?>
                <a onclick="showDocDownloads('zf<?php echo str_replace('.', '_', $version) ?>');" href="#">Documentation</a>
                <?php
                echo $this->render('downloads/downloads/documentation-links', array(
                    'version'  => $version,
                    'id'       => 'zf' . str_replace('.', '_', $version),
                    'releases' => $this->releases,
                ));
                ?>
            <?php endif; ?>
            </td>
        </tr>
    <?php endforeach; ?>
    </table>

    <h2><a name="gdata" />Zend_Gdata</h2>

    <table>
    <?php foreach ($this->releases->getProductVersions('gdata') as $version): 
        $date = $this->releases->getReleaseDate($version);
    ?>
        <tr>
            <td class="alpha archives">
                <strong><?php echo $this->escapeHtml($version) ?></strong><br />
                Released <?php echo $this->escapeHtml($date) ?>
            </td>

            <td>&nbsp;</td>

            <td class="omega">
                <a href="<?php echo $this->releases->getProductArchive('gdata', $version, 'zip') ?>">zip</a>&nbsp;|&nbsp;
                <a href="<?php echo $this->releases->getProductArchive('gdata', $version, 'tar.gz') ?>">tar.gz</a><br />
            </td>
        </tr>
    <?php endforeach; ?>
    </table>

    <h2><a name="infocard" />Zend_InfoCard</h2>

    <table>
    <?php foreach ($this->releases->getProductVersions('infocard') as $version): 
        $date = $this->releases->getReleaseDate($version);
    ?>
        <tr>
            <td class="alpha archives">
                <strong><?php echo $this->escapeHtml($version) ?></strong><br />
                Released <?php echo $this->escapeHtml($date) ?>
            </td>

            <td>&nbsp;</td>

            <td class="omega">
                <a href="<?php echo $this->releases->getProductArchive('infocard', $version, 'zip') ?>">zip</a>&nbsp;|&nbsp;
                <a href="<?php echo $this->releases->getProductArchive('infocard', $version, 'tar.gz') ?>">tar.gz</a><br />
            </td>
        </tr>
    <?php endforeach; ?>
    </table>

    <h2><a name="amf" />Zend_AMF</h2>

    <table>
    <?php foreach ($this->releases->getProductVersions('amf') as $version): 
        $date = $this->releases->getReleaseDate($version);
    ?>
        <tr>
            <td class="alpha archives">
                <strong><?php echo $this->escapeHtml($version) ?></strong><br />
                Released <?php echo $this->escapeHtml($date) ?>
            </td>

            <td>&nbsp;</td>

            <td class="omega">
                <a href="<?php echo $this->releases->getProductArchive('amf', $version, 'zip') ?>">zip</a>&nbsp;|&nbsp;
                <a href="<?php echo $this->releases->getProductArchive('amf', $version, 'tar.gz') ?>">tar.gz</a><br />
            </td>
        </tr>
    <?php endforeach; ?>
    </table>
</section>
